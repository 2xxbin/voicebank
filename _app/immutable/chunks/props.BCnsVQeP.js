import{ag as N,ah as V,ai as J,M as w,aj as W,ak as y,al as D,am as b,g as h,w as C,an as X,Q as k,j as p,d as ee,h as q,i as re,a3 as ae,H as ne,l as te,e as ie,m as j,o as U,q as H,u as z,n as fe,S as F,Y,ao as se,L as Q,ap as ue,aq as le,ar as _e,a6 as G,a2 as ve,as as de,at as ce,au as be,a0 as K,av as oe,aw as ge,ax as ye,ay as he,az as Pe,aA as we}from"./runtime.ifOp8vdM.js";function I(r,f=null,v){if(typeof r!="object"||r===null||N in r)return r;const s=k(r);if(s!==V&&s!==J)return r;var i=new Map,_=p(r),o=w(0);_&&i.set("length",w(r.length));var P;return new Proxy(r,{defineProperty(u,e,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&W();var t=i.get(e);return t===void 0?(t=w(a.value),i.set(e,t)):y(t,I(a.value,P)),!0},deleteProperty(u,e){var a=i.get(e);if(a===void 0)e in u&&i.set(e,w(b));else{if(_&&typeof e=="string"){var t=i.get("length"),n=Number(e);Number.isInteger(n)&&n<t.v&&y(t,n)}y(a,b),Z(o)}return!0},get(u,e,a){var c;if(e===N)return r;var t=i.get(e),n=e in u;if(t===void 0&&(!n||(c=D(u,e))!=null&&c.writable)&&(t=w(I(n?u[e]:b,P)),i.set(e,t)),t!==void 0){var l=h(t);return l===b?void 0:l}return Reflect.get(u,e,a)},getOwnPropertyDescriptor(u,e){var a=Reflect.getOwnPropertyDescriptor(u,e);if(a&&"value"in a){var t=i.get(e);t&&(a.value=h(t))}else if(a===void 0){var n=i.get(e),l=n==null?void 0:n.v;if(n!==void 0&&l!==b)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return a},has(u,e){var l;if(e===N)return!0;var a=i.get(e),t=a!==void 0&&a.v!==b||Reflect.has(u,e);if(a!==void 0||C!==null&&(!t||(l=D(u,e))!=null&&l.writable)){a===void 0&&(a=w(t?I(u[e],P):b),i.set(e,a));var n=h(a);if(n===b)return!1}return t},set(u,e,a,t){var E;var n=i.get(e),l=e in u;if(_&&e==="length")for(var c=a;c<n.v;c+=1){var R=i.get(c+"");R!==void 0?y(R,b):c in u&&(R=w(b),i.set(c+"",R))}n===void 0?(!l||(E=D(u,e))!=null&&E.writable)&&(n=w(void 0),y(n,I(a,P)),i.set(e,n)):(l=n.v!==b,y(n,I(a,P)));var g=Reflect.getOwnPropertyDescriptor(u,e);if(g!=null&&g.set&&g.set.call(t,a),!l){if(_&&typeof e=="string"){var S=i.get("length"),A=Number(e);Number.isInteger(A)&&A>=S.v&&y(S,A+1)}Z(o)}return!0},ownKeys(u){h(o);var e=Reflect.ownKeys(u).filter(n=>{var l=i.get(n);return l===void 0||l.v!==b});for(var[a,t]of i)t.v!==b&&!(a in u)&&e.push(a);return e},setPrototypeOf(){X()}})}function Z(r,f=1){y(r,r.v+f)}function Ie(r,f,v=!1){q&&re();var s=r,i=null,_=null,o=b,P=v?ae:0,u=!1;const e=(t,n=!0)=>{u=!0,a(n,t)},a=(t,n)=>{if(o===(o=t))return;let l=!1;if(q){const c=s.data===ne;!!o===c&&(s=te(),ie(s),j(!1),l=!0)}o?(i?U(i):n&&(i=H(()=>n(s))),_&&z(_,()=>{_=null})):(_?U(_):n&&(_=H(()=>n(s))),i&&z(i,()=>{i=null})),l&&j(!0)};ee(()=>{u=!1,f(e),u||a(null,null)},P),q&&(s=fe)}function Re(r,f,v){if(r==null)return f(void 0),F;const s=Y(()=>r.subscribe(f,v));return s.unsubscribe?()=>s.unsubscribe():s}let T=!1;function Se(r,f,v){const s=v[f]??(v[f]={store:null,source:Q(void 0),unsubscribe:F});if(s.store!==r)if(s.unsubscribe(),s.store=r??null,r==null)s.source.v=void 0,s.unsubscribe=F;else{var i=!0;s.unsubscribe=Re(r,_=>{i?s.source.v=_:y(s.source,_)}),i=!1}return h(s.source)}function Ae(){const r={};return se(()=>{for(var f in r)r[f].unsubscribe()}),r}function Ee(r){var f=T;try{return T=!1,[r(),T]}finally{T=f}}function $(r){for(var f=C,v=C;f!==null&&!(f.f&(le|_e));)f=f.parent;try{return G(f),r()}finally{G(v)}}function Oe(r,f,v,s){var M;var i=(v&he)!==0,_=!ve||(v&de)!==0,o=(v&Pe)!==0,P=(v&we)!==0,u=!1,e;o?[e,u]=Ee(()=>r[f]):e=r[f];var a=N in r||ce in r,t=o&&(((M=D(r,f))==null?void 0:M.set)??(a&&f in r&&(d=>r[f]=d)))||void 0,n=s,l=!0,c=!1,R=()=>(c=!0,l&&(l=!1,P?n=Y(s):n=s),n);e===void 0&&s!==void 0&&(t&&_&&be(),e=R(),t&&t(e));var g;if(_)g=()=>{var d=r[f];return d===void 0?R():(l=!0,c=!1,d)};else{var S=$(()=>(i?K:oe)(()=>r[f]));S.f|=ue,g=()=>{var d=h(S);return d!==void 0&&(n=void 0),d===void 0?n:d}}if(!(v&ge))return g;if(t){var A=r.$$legacy;return function(d,m){return arguments.length>0?((!_||!m||A||u)&&t(m?g():d),d):g()}}var E=!1,B=!1,L=Q(e),O=$(()=>K(()=>{var d=g(),m=h(L);return E?(E=!1,B=!0,m):(B=!1,L.v=d)}));return i||(O.equals=ye),function(d,m){if(arguments.length>0){const x=m?h(O):_&&o?I(d):d;return O.equals(x)||(E=!0,y(L,x),c&&n!==void 0&&(n=x),Y(()=>h(O))),d}return h(O)}}export{Se as a,I as b,Ie as i,Oe as p,Ae as s};
